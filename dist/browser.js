!function(t,s){"object"==typeof exports&&"object"==typeof module?module.exports=s():"function"==typeof define&&define.amd?define("httpStatus",[],s):"object"==typeof exports?exports.httpStatus=s():t.httpStatus=s()}(this,(function(){return(()=>{"use strict";var t={285:(t,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.HttpCheck=void 0,s.HttpCheck=class{constructor(t){this.response=t,this.data=null}nested(t){let s={};if(t&&"string"==typeof t&&"object"==typeof this.response.data){const e=t.split(".");if(!(e.length>1))return this.response.data&&"object"==typeof this.response.data?this.response.data[e[0]]:null;s=this.response.data;for(let t=0;t<e.length;t+=1){if(!s||void 0===s[e[t]])return null;if(s=s[e[t]],t===e.length-1)return s}}return this.response.data}expect(t){return this.data=this.nested(t),this}toBeEqualTo(t){return!!["string","number","boolean","undefined"].includes(typeof this.data)&&this.data===t}toBeGreaterThan(t){return"number"==typeof this.data&&"number"==typeof t&&this.data>t}toBeLessThan(t){return"number"==typeof this.data&&"number"==typeof t&&this.data<t}toBeTypeof(t){return!!["string","number","boolean","undefined"].includes(t)&&typeof this.data===t}toMatch(t){return"string"==typeof this.data&&t instanceof RegExp&&t.test(this.data)}ToBeNull(){return null===this.data}}},923:(t,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=[{status:100,statusText:"Continue"},{status:101,statusText:"Switching Protocol"},{status:103,statusText:"Processing (WebDAV)"},{status:200,statusText:"OK"},{status:201,statusText:"Created"},{status:202,statusText:"Accepted"},{status:203,statusText:"Non-Authoritative Information"},{status:204,statusText:"No Content"},{status:205,statusText:"Reset Content"},{status:206,statusText:"Partial Content"},{status:207,statusText:"Multi-Status (WebDAV)"},{status:208,statusText:"Multi-Status (WebDAV)"},{status:226,statusText:"IM Used (HTTP Delta encoding)"},{status:300,statusText:"Multiple Choice"},{status:301,statusText:"Moved Permanently"},{status:302,statusText:"Found"},{status:303,statusText:"See Other"},{status:304,statusText:"Not Modified"},{status:305,statusText:"Use Proxy"},{status:306,statusText:"unused"},{status:307,statusText:"Temporary Redirect"},{status:308,statusText:"Permanent Redirect"},{status:400,statusText:"Bad Request"},{status:401,statusText:"Unauthorized"},{status:402,statusText:"Payment Required"},{status:403,statusText:"Forbidden"},{status:404,statusText:"Not Found"},{status:405,statusText:"Method Not Allowed"},{status:406,statusText:"Not Acceptable "},{status:407,statusText:"Proxy Authentication Required"},{status:408,statusText:"Request Timeout"},{status:409,statusText:"Conflict"},{status:410,statusText:"Gone"},{status:411,statusText:"Length Required"},{status:412,statusText:"Precondition Failed"},{status:413,statusText:"Payload Too Large"},{status:414,statusText:"URI Too Long"},{status:415,statusText:"Unsupported Media Type"},{status:416,statusText:"Requested Range Not Satisfiable"},{status:417,statusText:"Expectation Failed"},{status:418,statusText:"I'm a teapot"},{status:421,statusText:"Misdirected Request"},{status:422,statusText:"Unprocessable Entity (WebDAV)"},{status:423,statusText:"Locked (WebDAV)"},{status:424,statusText:"Failed Dependency (WebDAV)"},{status:426,statusText:"Upgrade Required"},{status:428,statusText:"Precondition Required"},{status:429,statusText:"Too Many Requests"},{status:431,statusText:"Request Header Fields Too Large"},{status:451,statusText:"Unavailable For Legal Reasons"},{status:500,statusText:"Internal Server Error"},{status:501,statusText:"Not Implemented"},{status:502,statusText:"Bad Gateway"},{status:503,statusText:"Service Unavailable"},{status:504,statusText:"Gateway Timeout"},{status:505,statusText:"HTTP Version Not Supported"},{status:506,statusText:"Variant Also Negotiates"},{status:507,statusText:"Insufficient Storage"},{status:508,statusText:"Loop Detected (WebDAV)"},{status:510,statusText:"Not Extended"},{status:511,statusText:"Network Authentication Required"}]},799:function(t,s,e){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0});const u=e(285),o=a(e(923)),n=t=>t.replace(/[^a-zA-Z0-9]/gu,""),r=[{status:"Informative",min:100,max:199},{status:"Success",min:200,max:299},{status:"Redirection",min:300,max:399},{status:"ClientError",min:400,max:499},{status:"ServerError",min:500,max:599}],i={findStatus(t){let s={status:0,statusText:""};if(Number.isInteger(t)?s=o.default.find((s=>s.status===t)):"string"==typeof t?s=o.default.find((s=>s.statusText===t)):"object"==typeof t&&Number.isInteger(t.status)&&(s=o.default.find((s=>s.status===t.status))),!s)throw new Error(`Status code not found: ${JSON.stringify(t)}`);return s},addRangeMethods(){for(let t=0;t<r.length;t+=1){const s=`is${r[t].status}`;i[s]=s=>this.isBetween(s,r[t].min,r[t].max)}return this},addStatusMethods(){for(let t=0;t<o.default.length;t+=1){const s=`is${n(o.default[t].statusText)}`;i[s]=s=>this.findStatus(s).status===o.default[t].status}return this},addFormatResponseMethods(){for(let t=0;t<o.default.length;t+=1){const s=`response${n(o.default[t].statusText)}`;i[s]=(s,e)=>this.formatResponse(o.default[t].status,s,e)}return this},isBetween(t,s,e){const a=i.findStatus(t);return a&&a.status>=s&&a.status<=e},formatResponseConfig(t,s){const e=t?.config?t.config.method:"",a=t?.config?t.config.data:{},u=t?.config?t.config.url:"",o=t?.request?t.request.responseURL:"";return{url:u||o,method:e,data:a,source:s}},formatResponse(t,s,e,a){const u=this.findStatus(t);return{status:u.status,statusText:u.statusText,config:Object.assign({url:"",method:"",data:{},source:""},a),data:s,error:e}},checkResponseData:t=>new u.HttpCheck(t)};i.addRangeMethods().addStatusMethods().addFormatResponseMethods(),t.exports=i}},s={};return function e(a){var u=s[a];if(void 0!==u)return u.exports;var o=s[a]={exports:{}};return t[a].call(o.exports,o,o.exports,e),o.exports}(799)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RXhFLEVBQU9ELFFDbEJXeUUsQ0FBb0IsTSIsInNvdXJjZXMiOlsid2VicGFjazovL2h0dHBTdGF0dXMvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2h0dHBTdGF0dXMvLi9zcmMvaHR0cC1jaGVjay50cyIsIndlYnBhY2s6Ly9odHRwU3RhdHVzLy4vc3JjL2h0dHAtY29kZXMudHMiLCJ3ZWJwYWNrOi8vaHR0cFN0YXR1cy8uL3NyYy9odHRwLXN0YXR1cy50cyIsIndlYnBhY2s6Ly9odHRwU3RhdHVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2h0dHBTdGF0dXMvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiaHR0cFN0YXR1c1wiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJodHRwU3RhdHVzXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImh0dHBTdGF0dXNcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkh0dHBDaGVjayA9IHZvaWQgMDtcclxuY2xhc3MgSHR0cENoZWNrIHtcclxuICAgIGNvbnN0cnVjdG9yKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBuZXN0ZWQoZGF0YSkge1xyXG4gICAgICAgIGxldCBuZXN0ZWQgPSB7fTtcclxuICAgICAgICBpZiAoZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHRoaXMucmVzcG9uc2UuZGF0YSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgY29uc3QgYXJyYXkgPSBkYXRhLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgICAgIGlmIChhcnJheS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBuZXN0ZWQgPSB0aGlzLnJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5lc3RlZCAmJiB0eXBlb2YgbmVzdGVkW2FycmF5W2ldXSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmVzdGVkID0gbmVzdGVkW2FycmF5W2ldXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gYXJyYXkubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmVzdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlLmRhdGEgJiYgdHlwZW9mIHRoaXMucmVzcG9uc2UuZGF0YSA9PT0gJ29iamVjdCcgPyB0aGlzLnJlc3BvbnNlLmRhdGFbYXJyYXlbMF1dIDogbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zZS5kYXRhO1xyXG4gICAgfVxyXG4gICAgZXhwZWN0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm5lc3RlZChkYXRhKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIHRvQmVFcXVhbFRvKGNvbXBhcmUpIHtcclxuICAgICAgICByZXR1cm4gWydzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nLCAndW5kZWZpbmVkJ10uaW5jbHVkZXModHlwZW9mIHRoaXMuZGF0YSkgPyB0aGlzLmRhdGEgPT09IGNvbXBhcmUgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRvQmVHcmVhdGVyVGhhbihjb21wYXJlKSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLmRhdGEgPT09ICdudW1iZXInICYmIHR5cGVvZiBjb21wYXJlID09PSAnbnVtYmVyJyA/IHRoaXMuZGF0YSA+IGNvbXBhcmUgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRvQmVMZXNzVGhhbihjb21wYXJlKSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLmRhdGEgPT09ICdudW1iZXInICYmIHR5cGVvZiBjb21wYXJlID09PSAnbnVtYmVyJyA/IHRoaXMuZGF0YSA8IGNvbXBhcmUgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRvQmVUeXBlb2YoY29tcGFyZSkge1xyXG4gICAgICAgIHJldHVybiBbJ3N0cmluZycsICdudW1iZXInLCAnYm9vbGVhbicsICd1bmRlZmluZWQnXS5pbmNsdWRlcyhjb21wYXJlKSA/IHR5cGVvZiB0aGlzLmRhdGEgPT09IGNvbXBhcmUgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRvTWF0Y2goY29tcGFyZSkge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5kYXRhID09PSAnc3RyaW5nJyAmJiBjb21wYXJlIGluc3RhbmNlb2YgUmVnRXhwID8gY29tcGFyZS50ZXN0KHRoaXMuZGF0YSkgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIFRvQmVOdWxsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEgPT09IG51bGw7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5IdHRwQ2hlY2sgPSBIdHRwQ2hlY2s7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGh0dHBDb2RlcyA9IFtcclxuICAgIHsgc3RhdHVzOiAxMDAsIHN0YXR1c1RleHQ6ICdDb250aW51ZScgfSxcclxuICAgIHsgc3RhdHVzOiAxMDEsIHN0YXR1c1RleHQ6ICdTd2l0Y2hpbmcgUHJvdG9jb2wnIH0sXHJcbiAgICB7IHN0YXR1czogMTAzLCBzdGF0dXNUZXh0OiAnUHJvY2Vzc2luZyAoV2ViREFWKScgfSxcclxuICAgIHsgc3RhdHVzOiAyMDAsIHN0YXR1c1RleHQ6ICdPSycgfSxcclxuICAgIHsgc3RhdHVzOiAyMDEsIHN0YXR1c1RleHQ6ICdDcmVhdGVkJyB9LFxyXG4gICAgeyBzdGF0dXM6IDIwMiwgc3RhdHVzVGV4dDogJ0FjY2VwdGVkJyB9LFxyXG4gICAgeyBzdGF0dXM6IDIwMywgc3RhdHVzVGV4dDogJ05vbi1BdXRob3JpdGF0aXZlIEluZm9ybWF0aW9uJyB9LFxyXG4gICAgeyBzdGF0dXM6IDIwNCwgc3RhdHVzVGV4dDogJ05vIENvbnRlbnQnIH0sXHJcbiAgICB7IHN0YXR1czogMjA1LCBzdGF0dXNUZXh0OiAnUmVzZXQgQ29udGVudCcgfSxcclxuICAgIHsgc3RhdHVzOiAyMDYsIHN0YXR1c1RleHQ6ICdQYXJ0aWFsIENvbnRlbnQnIH0sXHJcbiAgICB7IHN0YXR1czogMjA3LCBzdGF0dXNUZXh0OiAnTXVsdGktU3RhdHVzIChXZWJEQVYpJyB9LFxyXG4gICAgeyBzdGF0dXM6IDIwOCwgc3RhdHVzVGV4dDogJ011bHRpLVN0YXR1cyAoV2ViREFWKScgfSxcclxuICAgIHsgc3RhdHVzOiAyMjYsIHN0YXR1c1RleHQ6ICdJTSBVc2VkIChIVFRQIERlbHRhIGVuY29kaW5nKScgfSxcclxuICAgIHsgc3RhdHVzOiAzMDAsIHN0YXR1c1RleHQ6ICdNdWx0aXBsZSBDaG9pY2UnIH0sXHJcbiAgICB7IHN0YXR1czogMzAxLCBzdGF0dXNUZXh0OiAnTW92ZWQgUGVybWFuZW50bHknIH0sXHJcbiAgICB7IHN0YXR1czogMzAyLCBzdGF0dXNUZXh0OiAnRm91bmQnIH0sXHJcbiAgICB7IHN0YXR1czogMzAzLCBzdGF0dXNUZXh0OiAnU2VlIE90aGVyJyB9LFxyXG4gICAgeyBzdGF0dXM6IDMwNCwgc3RhdHVzVGV4dDogJ05vdCBNb2RpZmllZCcgfSxcclxuICAgIHsgc3RhdHVzOiAzMDUsIHN0YXR1c1RleHQ6ICdVc2UgUHJveHknIH0sXHJcbiAgICB7IHN0YXR1czogMzA2LCBzdGF0dXNUZXh0OiAndW51c2VkJyB9LFxyXG4gICAgeyBzdGF0dXM6IDMwNywgc3RhdHVzVGV4dDogJ1RlbXBvcmFyeSBSZWRpcmVjdCcgfSxcclxuICAgIHsgc3RhdHVzOiAzMDgsIHN0YXR1c1RleHQ6ICdQZXJtYW5lbnQgUmVkaXJlY3QnIH0sXHJcbiAgICB7IHN0YXR1czogNDAwLCBzdGF0dXNUZXh0OiAnQmFkIFJlcXVlc3QnIH0sXHJcbiAgICB7IHN0YXR1czogNDAxLCBzdGF0dXNUZXh0OiAnVW5hdXRob3JpemVkJyB9LFxyXG4gICAgeyBzdGF0dXM6IDQwMiwgc3RhdHVzVGV4dDogJ1BheW1lbnQgUmVxdWlyZWQnIH0sXHJcbiAgICB7IHN0YXR1czogNDAzLCBzdGF0dXNUZXh0OiAnRm9yYmlkZGVuJyB9LFxyXG4gICAgeyBzdGF0dXM6IDQwNCwgc3RhdHVzVGV4dDogJ05vdCBGb3VuZCcgfSxcclxuICAgIHsgc3RhdHVzOiA0MDUsIHN0YXR1c1RleHQ6ICdNZXRob2QgTm90IEFsbG93ZWQnIH0sXHJcbiAgICB7IHN0YXR1czogNDA2LCBzdGF0dXNUZXh0OiAnTm90IEFjY2VwdGFibGUgJyB9LFxyXG4gICAgeyBzdGF0dXM6IDQwNywgc3RhdHVzVGV4dDogJ1Byb3h5IEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkJyB9LFxyXG4gICAgeyBzdGF0dXM6IDQwOCwgc3RhdHVzVGV4dDogJ1JlcXVlc3QgVGltZW91dCcgfSxcclxuICAgIHsgc3RhdHVzOiA0MDksIHN0YXR1c1RleHQ6ICdDb25mbGljdCcgfSxcclxuICAgIHsgc3RhdHVzOiA0MTAsIHN0YXR1c1RleHQ6ICdHb25lJyB9LFxyXG4gICAgeyBzdGF0dXM6IDQxMSwgc3RhdHVzVGV4dDogJ0xlbmd0aCBSZXF1aXJlZCcgfSxcclxuICAgIHsgc3RhdHVzOiA0MTIsIHN0YXR1c1RleHQ6ICdQcmVjb25kaXRpb24gRmFpbGVkJyB9LFxyXG4gICAgeyBzdGF0dXM6IDQxMywgc3RhdHVzVGV4dDogJ1BheWxvYWQgVG9vIExhcmdlJyB9LFxyXG4gICAgeyBzdGF0dXM6IDQxNCwgc3RhdHVzVGV4dDogJ1VSSSBUb28gTG9uZycgfSxcclxuICAgIHsgc3RhdHVzOiA0MTUsIHN0YXR1c1RleHQ6ICdVbnN1cHBvcnRlZCBNZWRpYSBUeXBlJyB9LFxyXG4gICAgeyBzdGF0dXM6IDQxNiwgc3RhdHVzVGV4dDogJ1JlcXVlc3RlZCBSYW5nZSBOb3QgU2F0aXNmaWFibGUnIH0sXHJcbiAgICB7IHN0YXR1czogNDE3LCBzdGF0dXNUZXh0OiAnRXhwZWN0YXRpb24gRmFpbGVkJyB9LFxyXG4gICAgeyBzdGF0dXM6IDQxOCwgc3RhdHVzVGV4dDogJ0lcXCdtIGEgdGVhcG90JyB9LFxyXG4gICAgeyBzdGF0dXM6IDQyMSwgc3RhdHVzVGV4dDogJ01pc2RpcmVjdGVkIFJlcXVlc3QnIH0sXHJcbiAgICB7IHN0YXR1czogNDIyLCBzdGF0dXNUZXh0OiAnVW5wcm9jZXNzYWJsZSBFbnRpdHkgKFdlYkRBViknIH0sXHJcbiAgICB7IHN0YXR1czogNDIzLCBzdGF0dXNUZXh0OiAnTG9ja2VkIChXZWJEQVYpJyB9LFxyXG4gICAgeyBzdGF0dXM6IDQyNCwgc3RhdHVzVGV4dDogJ0ZhaWxlZCBEZXBlbmRlbmN5IChXZWJEQVYpJyB9LFxyXG4gICAgeyBzdGF0dXM6IDQyNiwgc3RhdHVzVGV4dDogJ1VwZ3JhZGUgUmVxdWlyZWQnIH0sXHJcbiAgICB7IHN0YXR1czogNDI4LCBzdGF0dXNUZXh0OiAnUHJlY29uZGl0aW9uIFJlcXVpcmVkJyB9LFxyXG4gICAgeyBzdGF0dXM6IDQyOSwgc3RhdHVzVGV4dDogJ1RvbyBNYW55IFJlcXVlc3RzJyB9LFxyXG4gICAgeyBzdGF0dXM6IDQzMSwgc3RhdHVzVGV4dDogJ1JlcXVlc3QgSGVhZGVyIEZpZWxkcyBUb28gTGFyZ2UnIH0sXHJcbiAgICB7IHN0YXR1czogNDUxLCBzdGF0dXNUZXh0OiAnVW5hdmFpbGFibGUgRm9yIExlZ2FsIFJlYXNvbnMnIH0sXHJcbiAgICB7IHN0YXR1czogNTAwLCBzdGF0dXNUZXh0OiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyB9LFxyXG4gICAgeyBzdGF0dXM6IDUwMSwgc3RhdHVzVGV4dDogJ05vdCBJbXBsZW1lbnRlZCcgfSxcclxuICAgIHsgc3RhdHVzOiA1MDIsIHN0YXR1c1RleHQ6ICdCYWQgR2F0ZXdheScgfSxcclxuICAgIHsgc3RhdHVzOiA1MDMsIHN0YXR1c1RleHQ6ICdTZXJ2aWNlIFVuYXZhaWxhYmxlJyB9LFxyXG4gICAgeyBzdGF0dXM6IDUwNCwgc3RhdHVzVGV4dDogJ0dhdGV3YXkgVGltZW91dCcgfSxcclxuICAgIHsgc3RhdHVzOiA1MDUsIHN0YXR1c1RleHQ6ICdIVFRQIFZlcnNpb24gTm90IFN1cHBvcnRlZCcgfSxcclxuICAgIHsgc3RhdHVzOiA1MDYsIHN0YXR1c1RleHQ6ICdWYXJpYW50IEFsc28gTmVnb3RpYXRlcycgfSxcclxuICAgIHsgc3RhdHVzOiA1MDcsIHN0YXR1c1RleHQ6ICdJbnN1ZmZpY2llbnQgU3RvcmFnZScgfSxcclxuICAgIHsgc3RhdHVzOiA1MDgsIHN0YXR1c1RleHQ6ICdMb29wIERldGVjdGVkIChXZWJEQVYpJyB9LFxyXG4gICAgeyBzdGF0dXM6IDUxMCwgc3RhdHVzVGV4dDogJ05vdCBFeHRlbmRlZCcgfSxcclxuICAgIHsgc3RhdHVzOiA1MTEsIHN0YXR1c1RleHQ6ICdOZXR3b3JrIEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkJyB9XHJcbl07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGh0dHBDb2RlcztcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgaHR0cF9jaGVja18xID0gcmVxdWlyZShcIi4vaHR0cC1jaGVja1wiKTtcclxuY29uc3QgaHR0cF9jb2Rlc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2h0dHAtY29kZXNcIikpO1xyXG5jb25zdCBJTkZPUk1BVElWRV9NSU4gPSAxMDA7XHJcbmNvbnN0IElORk9STUFUSVZFX01BWCA9IDE5OTtcclxuY29uc3QgU1VDQ0VTU19NSU4gPSAyMDA7XHJcbmNvbnN0IFNVQ0NFU1NfTUFYID0gMjk5O1xyXG5jb25zdCBSRURJUkVDVElPTl9NSU4gPSAzMDA7XHJcbmNvbnN0IFJFRElSRUNUSU9OX01BWCA9IDM5OTtcclxuY29uc3QgQ0xJRU5UX0VSUk9SX01JTiA9IDQwMDtcclxuY29uc3QgQ0xJRU5UX0VSUk9SX01BWCA9IDQ5OTtcclxuY29uc3QgU0VSVkVSX0VSUk9SX01JTiA9IDUwMDtcclxuY29uc3QgU0VSVkVSX0VSUk9SX01BWCA9IDU5OTtcclxuY29uc3Qgcm1TcGVDaGFycyA9IChzdHJpbmcpID0+IHN0cmluZy5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZ3UsICcnKTtcclxuY29uc3QgUkFOR0UgPSBbXHJcbiAgICB7IHN0YXR1czogJ0luZm9ybWF0aXZlJywgbWluOiBJTkZPUk1BVElWRV9NSU4sIG1heDogSU5GT1JNQVRJVkVfTUFYIH0sXHJcbiAgICB7IHN0YXR1czogJ1N1Y2Nlc3MnLCBtaW46IFNVQ0NFU1NfTUlOLCBtYXg6IFNVQ0NFU1NfTUFYIH0sXHJcbiAgICB7IHN0YXR1czogJ1JlZGlyZWN0aW9uJywgbWluOiBSRURJUkVDVElPTl9NSU4sIG1heDogUkVESVJFQ1RJT05fTUFYIH0sXHJcbiAgICB7IHN0YXR1czogJ0NsaWVudEVycm9yJywgbWluOiBDTElFTlRfRVJST1JfTUlOLCBtYXg6IENMSUVOVF9FUlJPUl9NQVggfSxcclxuICAgIHsgc3RhdHVzOiAnU2VydmVyRXJyb3InLCBtaW46IFNFUlZFUl9FUlJPUl9NSU4sIG1heDogU0VSVkVSX0VSUk9SX01BWCB9XHJcbl07XHJcbmNvbnN0IGh0dHBTdGF0dXMgPSB7XHJcbiAgICBmaW5kU3RhdHVzKGtleSkge1xyXG4gICAgICAgIGxldCBzdGF0dXNDb2RlID0geyBzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnIH07XHJcbiAgICAgICAgaWYgKE51bWJlci5pc0ludGVnZXIoa2V5KSkge1xyXG4gICAgICAgICAgICBzdGF0dXNDb2RlID0gaHR0cF9jb2Rlc18xLmRlZmF1bHQuZmluZCgoY29kZSkgPT4gY29kZS5zdGF0dXMgPT09IGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHN0YXR1c0NvZGUgPSBodHRwX2NvZGVzXzEuZGVmYXVsdC5maW5kKChjb2RlKSA9PiBjb2RlLnN0YXR1c1RleHQgPT09IGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnICYmIE51bWJlci5pc0ludGVnZXIoa2V5LnN0YXR1cykpIHtcclxuICAgICAgICAgICAgc3RhdHVzQ29kZSA9IGh0dHBfY29kZXNfMS5kZWZhdWx0LmZpbmQoKGNvZGUpID0+IGNvZGUuc3RhdHVzID09PSBrZXkuc3RhdHVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFzdGF0dXNDb2RlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU3RhdHVzIGNvZGUgbm90IGZvdW5kOiAke0pTT04uc3RyaW5naWZ5KGtleSl9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdGF0dXNDb2RlO1xyXG4gICAgfSxcclxuICAgIGFkZFJhbmdlTWV0aG9kcygpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFJBTkdFLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IGBpcyR7UkFOR0VbaV0uc3RhdHVzfWA7XHJcbiAgICAgICAgICAgIGh0dHBTdGF0dXNbbWV0aG9kXSA9IChrZXkpID0+IHRoaXMuaXNCZXR3ZWVuKGtleSwgUkFOR0VbaV0ubWluLCBSQU5HRVtpXS5tYXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sXHJcbiAgICBhZGRTdGF0dXNNZXRob2RzKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaHR0cF9jb2Rlc18xLmRlZmF1bHQubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgICAgICAgY29uc3QgbWV0aG9kID0gYGlzJHtybVNwZUNoYXJzKGh0dHBfY29kZXNfMS5kZWZhdWx0W2ldLnN0YXR1c1RleHQpfWA7XHJcbiAgICAgICAgICAgIGh0dHBTdGF0dXNbbWV0aG9kXSA9IChrZXkpID0+IHRoaXMuZmluZFN0YXR1cyhrZXkpLnN0YXR1cyA9PT0gaHR0cF9jb2Rlc18xLmRlZmF1bHRbaV0uc3RhdHVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sXHJcbiAgICBhZGRGb3JtYXRSZXNwb25zZU1ldGhvZHMoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBodHRwX2NvZGVzXzEuZGVmYXVsdC5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICBjb25zdCBtZXRob2QgPSBgcmVzcG9uc2Uke3JtU3BlQ2hhcnMoaHR0cF9jb2Rlc18xLmRlZmF1bHRbaV0uc3RhdHVzVGV4dCl9YDtcclxuICAgICAgICAgICAgaHR0cFN0YXR1c1ttZXRob2RdID0gKGRhdGEsIGVycm9yKSA9PiB0aGlzLmZvcm1hdFJlc3BvbnNlKGh0dHBfY29kZXNfMS5kZWZhdWx0W2ldLnN0YXR1cywgZGF0YSwgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sXHJcbiAgICBpc0JldHdlZW4oa2V5LCBtaW4sIG1heCkge1xyXG4gICAgICAgIGNvbnN0IGNvZGUgPSBodHRwU3RhdHVzLmZpbmRTdGF0dXMoa2V5KTtcclxuICAgICAgICByZXR1cm4gY29kZSAmJiBjb2RlLnN0YXR1cyA+PSBtaW4gJiYgY29kZS5zdGF0dXMgPD0gbWF4O1xyXG4gICAgfSxcclxuICAgIGZvcm1hdFJlc3BvbnNlQ29uZmlnKHJlc3BvbnNlLCBzb3VyY2UpIHtcclxuICAgICAgICBjb25zdCBSRVNQT05TRV9DT05GSUdfTUVUSE9EID0gcmVzcG9uc2U/LmNvbmZpZyA/IHJlc3BvbnNlLmNvbmZpZy5tZXRob2QgOiAnJztcclxuICAgICAgICBjb25zdCBSRVNQT05TRV9DT05GSUdfREFUQSA9IHJlc3BvbnNlPy5jb25maWcgPyByZXNwb25zZS5jb25maWcuZGF0YSA6IHt9O1xyXG4gICAgICAgIGNvbnN0IFJFU1BPTlNFX0NPTkZJR19VUkwgPSByZXNwb25zZT8uY29uZmlnID8gcmVzcG9uc2UuY29uZmlnLnVybCA6ICcnO1xyXG4gICAgICAgIGNvbnN0IFJFU1BPTlNFX1JFUVVFU1RfVVJMID0gcmVzcG9uc2U/LnJlcXVlc3QgPyByZXNwb25zZS5yZXF1ZXN0LnJlc3BvbnNlVVJMIDogJyc7XHJcbiAgICAgICAgY29uc3QgZm9ybWF0UmVzcG9uc2VDb25maWcgPSB7XHJcbiAgICAgICAgICAgIHVybDogUkVTUE9OU0VfQ09ORklHX1VSTCB8fCBSRVNQT05TRV9SRVFVRVNUX1VSTCxcclxuICAgICAgICAgICAgbWV0aG9kOiBSRVNQT05TRV9DT05GSUdfTUVUSE9ELFxyXG4gICAgICAgICAgICBkYXRhOiBSRVNQT05TRV9DT05GSUdfREFUQSxcclxuICAgICAgICAgICAgc291cmNlXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gZm9ybWF0UmVzcG9uc2VDb25maWc7XHJcbiAgICB9LFxyXG4gICAgZm9ybWF0UmVzcG9uc2Uoa2V5LCBkYXRhLCBlcnJvciwgY29uZmlnKSB7XHJcbiAgICAgICAgY29uc3QgY29kZSA9IHRoaXMuZmluZFN0YXR1cyhrZXkpO1xyXG4gICAgICAgIGNvbnN0IERFRkFVTFRfUkVTUE9OU0VfQ09ORklHID0ge1xyXG4gICAgICAgICAgICB1cmw6ICcnLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICcnLFxyXG4gICAgICAgICAgICBkYXRhOiB7fSxcclxuICAgICAgICAgICAgc291cmNlOiAnJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhdHVzOiBjb2RlLnN0YXR1cyxcclxuICAgICAgICAgICAgc3RhdHVzVGV4dDogY29kZS5zdGF0dXNUZXh0LFxyXG4gICAgICAgICAgICBjb25maWc6IE9iamVjdC5hc3NpZ24oREVGQVVMVF9SRVNQT05TRV9DT05GSUcsIGNvbmZpZyksXHJcbiAgICAgICAgICAgIGRhdGEsXHJcbiAgICAgICAgICAgIGVycm9yXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBjaGVja1Jlc3BvbnNlRGF0YShyZXNwb25zZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgaHR0cF9jaGVja18xLkh0dHBDaGVjayhyZXNwb25zZSk7XHJcbiAgICB9XHJcbn07XHJcbmh0dHBTdGF0dXNcclxuICAgIC5hZGRSYW5nZU1ldGhvZHMoKVxyXG4gICAgLmFkZFN0YXR1c01ldGhvZHMoKVxyXG4gICAgLmFkZEZvcm1hdFJlc3BvbnNlTWV0aG9kcygpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IGh0dHBTdGF0dXM7XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNzk5KTtcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIkh0dHBDaGVjayIsImNvbnN0cnVjdG9yIiwicmVzcG9uc2UiLCJkYXRhIiwibmVzdGVkIiwiYXJyYXkiLCJzcGxpdCIsImxlbmd0aCIsImkiLCJleHBlY3QiLCJ0b0JlRXF1YWxUbyIsImNvbXBhcmUiLCJpbmNsdWRlcyIsInRvQmVHcmVhdGVyVGhhbiIsInRvQmVMZXNzVGhhbiIsInRvQmVUeXBlb2YiLCJ0b01hdGNoIiwiUmVnRXhwIiwidGVzdCIsIlRvQmVOdWxsIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsIl9faW1wb3J0RGVmYXVsdCIsIm1vZCIsIl9fZXNNb2R1bGUiLCJodHRwX2NoZWNrXzEiLCJodHRwX2NvZGVzXzEiLCJybVNwZUNoYXJzIiwic3RyaW5nIiwicmVwbGFjZSIsIlJBTkdFIiwibWluIiwibWF4IiwiaHR0cFN0YXR1cyIsImZpbmRTdGF0dXMiLCJrZXkiLCJzdGF0dXNDb2RlIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiZGVmYXVsdCIsImZpbmQiLCJjb2RlIiwiRXJyb3IiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkUmFuZ2VNZXRob2RzIiwibWV0aG9kIiwiaXNCZXR3ZWVuIiwiYWRkU3RhdHVzTWV0aG9kcyIsImFkZEZvcm1hdFJlc3BvbnNlTWV0aG9kcyIsImVycm9yIiwiZm9ybWF0UmVzcG9uc2UiLCJmb3JtYXRSZXNwb25zZUNvbmZpZyIsInNvdXJjZSIsIlJFU1BPTlNFX0NPTkZJR19NRVRIT0QiLCJjb25maWciLCJSRVNQT05TRV9DT05GSUdfREFUQSIsIlJFU1BPTlNFX0NPTkZJR19VUkwiLCJ1cmwiLCJSRVNQT05TRV9SRVFVRVNUX1VSTCIsInJlcXVlc3QiLCJyZXNwb25zZVVSTCIsImFzc2lnbiIsImNoZWNrUmVzcG9uc2VEYXRhIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9